function showCommits() {
  const commits = JSON.parse(this.responseText)
  const commitsList = `<ul>${commits.map(commit => '<li><strong>' + commit.author.login + '</strong> - ' + commit.commit.message + '</li>').join('')}</ul>`
  document.getElementById("commits").innerHTML = commitsList
}

function getCommits(el) {
  const name = el.dataset.repo
  const req = new XMLHttpRequest()
  req.addEventListener("load", showCommits)
  req.open("GET", 'https://api.github.com/repos/octocat/' + name + '/commits')
  req.send()
}

function showRepositories(event, data) {
// console.log(this)
//   XMLHttpRequest {onreadystatechange: null, readyState: 4, timeout: 0, withCredentials: false, upload: XMLHttpRequestUpload, …}
// onabort
// :
// null
// onerror
// :
// null
// onload
// :
// null
// onloadend
// :
// null
// onloadstart
// :
// null
// onprogress
// :
// null
// onreadystatechange
// :
// null
// ontimeout
// :
// null
// readyState
// :
// 4
// response
// :
// "[↵  {↵    "id": 132935648,↵    "name": "boysenberry-repo-1",↵    "full_name": "octocat/boysenberry-repo-1",↵    "owner": {↵      "login": "octocat",↵      "id": 583231,↵      "avatar_url": "https://avatars3.githubusercontent.com/u/583231?v=4",↵      "gravatar_id": "",↵      "url": "https://api.github.com/users/octocat",↵      "html_url": "https://github.com/octocat",↵      "followers_url": "https://api.github.com/users/octocat/followers",↵      "following_url": "https://api.github.com/users/octocat/following{/other_user}",↵      "gists_url": "https://api.github.com/users/octocat/gists{/gist_id}",↵      "starred_url": "https://api.github.com/users/octocat/starred{/owner}{/repo}",↵      "subscriptions_url": "https://api.github.com/users/octocat/subscriptions",↵      "organizations_url": "https://api.github.com/users/octocat/orgs",↵      "repos_url": "https://api.github.com/users/octocat/repos",↵      "events_url": "https://api.github.com/users/octocat/events{/privacy}",↵      "received_events_url": "https://api.github.com/users/octocat/received_events",↵      "type": "User",↵      "site_admin": false↵    },↵    "private": false,↵    "html_url": "https://github.com/octocat/boysenberry-repo-1",↵    "description": "Testing",↵    "fork": true,↵    "url": "https://api.github.com/repos/octocat/boysenberry-repo-1",↵    "forks_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/forks",↵    "keys_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/keys{/key_id}",↵    "collaborators_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/collaborators{/collaborator}",↵    "teams_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/teams",↵    "hooks_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/hooks",↵    "issue_events_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/issues/events{/number}",↵    "events_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/events",↵    "assignees_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/assignees{/user}",↵    "branches_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/branches{/branch}",↵    "tags_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/tags",↵    "blobs_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/git/blobs{/sha}",↵    "git_tags_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/git/tags{/sha}",↵    "git_refs_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/git/refs{/sha}",↵    "trees_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/git/trees{/sha}",↵    "statuses_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/statuses/{sha}",↵    "languages_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/languages",↵    "stargazers_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/stargazers",↵    "contributors_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/contributors",↵    "subscribers_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/subscribers",↵    "subscription_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/subscription",↵    "commits_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/commits{/sha}",↵    "git_commits_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/git/commits{/sha}",↵    "comments_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/comments{/number}",↵    "issue_comment_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/issues/comments{/number}",↵    "contents_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/contents/{+path}",↵    "compare_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/compare/{base}...{head}",↵    "merges_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/merges",↵    "archive_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/{archive_format}{/ref}",↵    "downloads_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/downloads",↵    "issues_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/issues{/number}",↵    "pulls_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/pulls{/number}",↵    "milestones_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/milestones{/number}",↵    "notifications_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/notifications{?since,all,participating}",↵    "labels_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/labels{/name}",↵    "releases_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/releases{/id}",↵    "deployments_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/deployments",↵    "created_at": "2018-05-10T17:51:29Z",↵    "updated_at": "2018-05-10T17:51:31Z",↵    "pushed_at": "2018-05-10T17:52:17Z",↵    "git_url": "git://github.com/octocat/boysenberry-repo-1.git",↵    "ssh_url": "git@github.com:octocat/boysenberry-repo-1.git",↵    "clone_ur…583231?v=4",↵      "gravatar_id": "",↵      "url": "https://api.github.com/users/octocat",↵      "html_url": "https://github.com/octocat",↵      "followers_url": "https://api.github.com/users/octocat/followers",↵      "following_url": "https://api.github.com/users/octocat/following{/other_user}",↵      "gists_url": "https://api.github.com/users/octocat/gists{/gist_id}",↵      "starred_url": "https://api.github.com/users/octocat/starred{/owner}{/repo}",↵      "subscriptions_url": "https://api.github.com/users/octocat/subscriptions",↵      "organizations_url": "https://api.github.com/users/octocat/orgs",↵      "repos_url": "https://api.github.com/users/octocat/repos",↵      "events_url": "https://api.github.com/users/octocat/events{/privacy}",↵      "received_events_url": "https://api.github.com/users/octocat/received_events",↵      "type": "User",↵      "site_admin": false↵    },↵    "private": false,↵    "html_url": "https://github.com/octocat/test-repo1",↵    "description": null,↵    "fork": false,↵    "url": "https://api.github.com/repos/octocat/test-repo1",↵    "forks_url": "https://api.github.com/repos/octocat/test-repo1/forks",↵    "keys_url": "https://api.github.com/repos/octocat/test-repo1/keys{/key_id}",↵    "collaborators_url": "https://api.github.com/repos/octocat/test-repo1/collaborators{/collaborator}",↵    "teams_url": "https://api.github.com/repos/octocat/test-repo1/teams",↵    "hooks_url": "https://api.github.com/repos/octocat/test-repo1/hooks",↵    "issue_events_url": "https://api.github.com/repos/octocat/test-repo1/issues/events{/number}",↵    "events_url": "https://api.github.com/repos/octocat/test-repo1/events",↵    "assignees_url": "https://api.github.com/repos/octocat/test-repo1/assignees{/user}",↵    "branches_url": "https://api.github.com/repos/octocat/test-repo1/branches{/branch}",↵    "tags_url": "https://api.github.com/repos/octocat/test-repo1/tags",↵    "blobs_url": "https://api.github.com/repos/octocat/test-repo1/git/blobs{/sha}",↵    "git_tags_url": "https://api.github.com/repos/octocat/test-repo1/git/tags{/sha}",↵    "git_refs_url": "https://api.github.com/repos/octocat/test-repo1/git/refs{/sha}",↵    "trees_url": "https://api.github.com/repos/octocat/test-repo1/git/trees{/sha}",↵    "statuses_url": "https://api.github.com/repos/octocat/test-repo1/statuses/{sha}",↵    "languages_url": "https://api.github.com/repos/octocat/test-repo1/languages",↵    "stargazers_url": "https://api.github.com/repos/octocat/test-repo1/stargazers",↵    "contributors_url": "https://api.github.com/repos/octocat/test-repo1/contributors",↵    "subscribers_url": "https://api.github.com/repos/octocat/test-repo1/subscribers",↵    "subscription_url": "https://api.github.com/repos/octocat/test-repo1/subscription",↵    "commits_url": "https://api.github.com/repos/octocat/test-repo1/commits{/sha}",↵    "git_commits_url": "https://api.github.com/repos/octocat/test-repo1/git/commits{/sha}",↵    "comments_url": "https://api.github.com/repos/octocat/test-repo1/comments{/number}",↵    "issue_comment_url": "https://api.github.com/repos/octocat/test-repo1/issues/comments{/number}",↵    "contents_url": "https://api.github.com/repos/octocat/test-repo1/contents/{+path}",↵    "compare_url": "https://api.github.com/repos/octocat/test-repo1/compare/{base}...{head}",↵    "merges_url": "https://api.github.com/repos/octocat/test-repo1/merges",↵    "archive_url": "https://api.github.com/repos/octocat/test-repo1/{archive_format}{/ref}",↵    "downloads_url": "https://api.github.com/repos/octocat/test-repo1/downloads",↵    "issues_url": "https://api.github.com/repos/octocat/test-repo1/issues{/number}",↵    "pulls_url": "https://api.github.com/repos/octocat/test-repo1/pulls{/number}",↵    "milestones_url": "https://api.github.com/repos/octocat/test-repo1/milestones{/number}",↵    "notifications_url": "https://api.github.com/repos/octocat/test-repo1/notifications{?since,all,participating}",↵    "labels_url": "https://api.github.com/repos/octocat/test-repo1/labels{/name}",↵    "releases_url": "https://api.github.com/repos/octocat/test-repo1/releases{/id}",↵    "deployments_url": "https://api.github.com/repos/octocat/test-repo1/deployments",↵    "created_at": "2016-04-14T21:29:25Z",↵    "updated_at": "2016-10-09T07:53:15Z",↵    "pushed_at": "2016-04-05T05:31:50Z",↵    "git_url": "git://github.com/octocat/test-repo1.git",↵    "ssh_url": "git@github.com:octocat/test-repo1.git",↵    "clone_url": "https://github.com/octocat/test-repo1.git",↵    "svn_url": "https://github.com/octocat/test-repo1",↵    "homepage": null,↵    "size": 1,↵    "stargazers_count": 0,↵    "watchers_count": 0,↵    "language": null,↵    "has_issues": false,↵    "has_projects": true,↵    "has_downloads": true,↵    "has_wiki": true,↵    "has_pages": false,↵    "forks_count": 4,↵    "mirror_url": null,↵    "archived": false,↵    "open_issues_count": 0,↵    "license": null,↵    "forks": 4,↵    "open_issues": 0,↵    "watchers": 0,↵    "default_branch": "gh-pages"↵  }↵]↵"
// responseText
// :
// "[↵  {↵    "id": 132935648,↵    "name": "boysenberry-repo-1",↵    "full_name": "octocat/boysenberry-repo-1",↵    "owner": {↵      "login": "octocat",↵      "id": 583231,↵      "avatar_url": "https://avatars3.githubusercontent.com/u/583231?v=4",↵      "gravatar_id": "",↵      "url": "https://api.github.com/users/octocat",↵      "html_url": "https://github.com/octocat",↵      "followers_url": "https://api.github.com/users/octocat/followers",↵      "following_url": "https://api.github.com/users/octocat/following{/other_user}",↵      "gists_url": "https://api.github.com/users/octocat/gists{/gist_id}",↵      "starred_url": "https://api.github.com/users/octocat/starred{/owner}{/repo}",↵      "subscriptions_url": "https://api.github.com/users/octocat/subscriptions",↵      "organizations_url": "https://api.github.com/users/octocat/orgs",↵      "repos_url": "https://api.github.com/users/octocat/repos",↵      "events_url": "https://api.github.com/users/octocat/events{/privacy}",↵      "received_events_url": "https://api.github.com/users/octocat/received_events",↵      "type": "User",↵      "site_admin": false↵    },↵    "private": false,↵    "html_url": "https://github.com/octocat/boysenberry-repo-1",↵    "description": "Testing",↵    "fork": true,↵    "url": "https://api.github.com/repos/octocat/boysenberry-repo-1",↵    "forks_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/forks",↵    "keys_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/keys{/key_id}",↵    "collaborators_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/collaborators{/collaborator}",↵    "teams_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/teams",↵    "hooks_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/hooks",↵    "issue_events_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/issues/events{/number}",↵    "events_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/events",↵    "assignees_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/assignees{/user}",↵    "branches_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/branches{/branch}",↵    "tags_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/tags",↵    "blobs_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/git/blobs{/sha}",↵    "git_tags_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/git/tags{/sha}",↵    "git_refs_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/git/refs{/sha}",↵    "trees_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/git/trees{/sha}",↵    "statuses_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/statuses/{sha}",↵    "languages_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/languages",↵    "stargazers_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/stargazers",↵    "contributors_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/contributors",↵    "subscribers_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/subscribers",↵    "subscription_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/subscription",↵    "commits_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/commits{/sha}",↵    "git_commits_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/git/commits{/sha}",↵    "comments_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/comments{/number}",↵    "issue_comment_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/issues/comments{/number}",↵    "contents_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/contents/{+path}",↵    "compare_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/compare/{base}...{head}",↵    "merges_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/merges",↵    "archive_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/{archive_format}{/ref}",↵    "downloads_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/downloads",↵    "issues_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/issues{/number}",↵    "pulls_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/pulls{/number}",↵    "milestones_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/milestones{/number}",↵    "notifications_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/notifications{?since,all,participating}",↵    "labels_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/labels{/name}",↵    "releases_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/releases{/id}",↵    "deployments_url": "https://api.github.com/repos/octocat/boysenberry-repo-1/deployments",↵    "created_at": "2018-05-10T17:51:29Z",↵    "updated_at": "2018-05-10T17:51:31Z",↵    "pushed_at": "2018-05-10T17:52:17Z",↵    "git_url": "git://github.com/octocat/boysenberry-repo-1.git",↵    "ssh_url": "git@github.com:octocat/boysenberry-repo-1.git",↵    "clone_ur…583231?v=4",↵      "gravatar_id": "",↵      "url": "https://api.github.com/users/octocat",↵      "html_url": "https://github.com/octocat",↵      "followers_url": "https://api.github.com/users/octocat/followers",↵      "following_url": "https://api.github.com/users/octocat/following{/other_user}",↵      "gists_url": "https://api.github.com/users/octocat/gists{/gist_id}",↵      "starred_url": "https://api.github.com/users/octocat/starred{/owner}{/repo}",↵      "subscriptions_url": "https://api.github.com/users/octocat/subscriptions",↵      "organizations_url": "https://api.github.com/users/octocat/orgs",↵      "repos_url": "https://api.github.com/users/octocat/repos",↵      "events_url": "https://api.github.com/users/octocat/events{/privacy}",↵      "received_events_url": "https://api.github.com/users/octocat/received_events",↵      "type": "User",↵      "site_admin": false↵    },↵    "private": false,↵    "html_url": "https://github.com/octocat/test-repo1",↵    "description": null,↵    "fork": false,↵    "url": "https://api.github.com/repos/octocat/test-repo1",↵    "forks_url": "https://api.github.com/repos/octocat/test-repo1/forks",↵    "keys_url": "https://api.github.com/repos/octocat/test-repo1/keys{/key_id}",↵    "collaborators_url": "https://api.github.com/repos/octocat/test-repo1/collaborators{/collaborator}",↵    "teams_url": "https://api.github.com/repos/octocat/test-repo1/teams",↵    "hooks_url": "https://api.github.com/repos/octocat/test-repo1/hooks",↵    "issue_events_url": "https://api.github.com/repos/octocat/test-repo1/issues/events{/number}",↵    "events_url": "https://api.github.com/repos/octocat/test-repo1/events",↵    "assignees_url": "https://api.github.com/repos/octocat/test-repo1/assignees{/user}",↵    "branches_url": "https://api.github.com/repos/octocat/test-repo1/branches{/branch}",↵    "tags_url": "https://api.github.com/repos/octocat/test-repo1/tags",↵    "blobs_url": "https://api.github.com/repos/octocat/test-repo1/git/blobs{/sha}",↵    "git_tags_url": "https://api.github.com/repos/octocat/test-repo1/git/tags{/sha}",↵    "git_refs_url": "https://api.github.com/repos/octocat/test-repo1/git/refs{/sha}",↵    "trees_url": "https://api.github.com/repos/octocat/test-repo1/git/trees{/sha}",↵    "statuses_url": "https://api.github.com/repos/octocat/test-repo1/statuses/{sha}",↵    "languages_url": "https://api.github.com/repos/octocat/test-repo1/languages",↵    "stargazers_url": "https://api.github.com/repos/octocat/test-repo1/stargazers",↵    "contributors_url": "https://api.github.com/repos/octocat/test-repo1/contributors",↵    "subscribers_url": "https://api.github.com/repos/octocat/test-repo1/subscribers",↵    "subscription_url": "https://api.github.com/repos/octocat/test-repo1/subscription",↵    "commits_url": "https://api.github.com/repos/octocat/test-repo1/commits{/sha}",↵    "git_commits_url": "https://api.github.com/repos/octocat/test-repo1/git/commits{/sha}",↵    "comments_url": "https://api.github.com/repos/octocat/test-repo1/comments{/number}",↵    "issue_comment_url": "https://api.github.com/repos/octocat/test-repo1/issues/comments{/number}",↵    "contents_url": "https://api.github.com/repos/octocat/test-repo1/contents/{+path}",↵    "compare_url": "https://api.github.com/repos/octocat/test-repo1/compare/{base}...{head}",↵    "merges_url": "https://api.github.com/repos/octocat/test-repo1/merges",↵    "archive_url": "https://api.github.com/repos/octocat/test-repo1/{archive_format}{/ref}",↵    "downloads_url": "https://api.github.com/repos/octocat/test-repo1/downloads",↵    "issues_url": "https://api.github.com/repos/octocat/test-repo1/issues{/number}",↵    "pulls_url": "https://api.github.com/repos/octocat/test-repo1/pulls{/number}",↵    "milestones_url": "https://api.github.com/repos/octocat/test-repo1/milestones{/number}",↵    "notifications_url": "https://api.github.com/repos/octocat/test-repo1/notifications{?since,all,participating}",↵    "labels_url": "https://api.github.com/repos/octocat/test-repo1/labels{/name}",↵    "releases_url": "https://api.github.com/repos/octocat/test-repo1/releases{/id}",↵    "deployments_url": "https://api.github.com/repos/octocat/test-repo1/deployments",↵    "created_at": "2016-04-14T21:29:25Z",↵    "updated_at": "2016-10-09T07:53:15Z",↵    "pushed_at": "2016-04-05T05:31:50Z",↵    "git_url": "git://github.com/octocat/test-repo1.git",↵    "ssh_url": "git@github.com:octocat/test-repo1.git",↵    "clone_url": "https://github.com/octocat/test-repo1.git",↵    "svn_url": "https://github.com/octocat/test-repo1",↵    "homepage": null,↵    "size": 1,↵    "stargazers_count": 0,↵    "watchers_count": 0,↵    "language": null,↵    "has_issues": false,↵    "has_projects": true,↵    "has_downloads": true,↵    "has_wiki": true,↵    "has_pages": false,↵    "forks_count": 4,↵    "mirror_url": null,↵    "archived": false,↵    "open_issues_count": 0,↵    "license": null,↵    "forks": 4,↵    "open_issues": 0,↵    "watchers": 0,↵    "default_branch": "gh-pages"↵  }↵]↵"
// responseType
// :
// ""
// responseURL
// :
// "https://api.github.com/users/octocat/repos"
// responseXML
// :
// null
// status
// :
// 200
// statusText
// :
// "OK"
// timeout
// :
// 0
// upload
// :
// XMLHttpRequestUpload {onloadstart: null, onprogress: null, onabort: null, onerror: null, onload: null, …}
// withCredentials
// :
// false
// __proto__
// :
// XMLHttpRequest
  var repos = JSON.parse(this.responseText)
  console.log(repos)
  const repoList = `<ul>${repos.map(r => '<li>' + r.name + ' - <a href="#" data-repo="' + r.name + '" onclick="getCommits(this)">Get Commits</a></li>').join('')}</ul>`
  document.getElementById("repositories").innerHTML = repoList
}


function getRepositories() {
  const req = new XMLHttpRequest()
  req.addEventListener("load", showRepositories);
  req.open("GET", 'https://api.github.com/users/octocat/repos')
  req.send()
}
